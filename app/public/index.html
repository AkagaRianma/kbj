<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <title>SOAPI Offline-First</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 5 via CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="/styles.css">
</head>
<body class="bg-light">

<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <span class="navbar-brand mb-0 h1">SOAPI (Offline-First)</span>
    <span id="status" class="badge bg-danger">Offline</span>
  </div>
</nav>

<main class="container py-3">
  <h5 class="mb-3">Kunjungan Hari Ini (user: 1)</h5>

  <!-- Grid 3 kolom -->
  <div id="cards" class="row row-cols-1 row-cols-md-3 g-3"></div>

  <!-- Panel riwayat SOAPI -->
  <div class="mt-4">
    <h6>Riwayat SOAPI Pasien</h6>
    <div id="soapiList" class="list-group small"></div>
  </div>
</main>

<!-- Modal Tambah SOAPI -->
<div class="modal fade" id="soapiModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <form id="soapiForm">
        <div class="modal-header">
          <h5 class="modal-title">Tambah SOAPI</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" ></button>
        </div>
        <div class="modal-body">
          <input type="hidden" id="form_id_kunjungan">
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label">S (Subjective)</label>
              <textarea class="form-control" id="form_s" required></textarea>
            </div>
            <div class="col-md-6">
              <label class="form-label">O (Objective)</label>
              <textarea class="form-control" id="form_o" required></textarea>
            </div>
            <div class="col-md-6">
              <label class="form-label">A (Assessment)</label>
              <textarea class="form-control" id="form_a" required></textarea>
            </div>
            <div class="col-md-6">
              <label class="form-label">P (Plan)</label>
              <textarea class="form-control" id="form_p" required></textarea>
            </div>
            <div class="col-md-12">
              <label class="form-label">I (Instruction)</label>
              <textarea class="form-control" id="form_i" required></textarea>
            </div>
          </div>
          <div class="form-text mt-2">Semua kolom wajib diisi (tidak boleh kosong).</div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-success">
            Simpan
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script type="module" src="/main.js"></script>
</body>
</html>
